/*
VARIABLES
FONTS

GENERAL
RADIO
NAV
SECTIONS

BOOTH
ARCHIVE
ABOUT
STREAMING
SETTINGS
CALL IN/LINKS/CREDITS/WELCOME

RESPONSIVITY
	breakpoints:
	500px+
	600px+
	700px+
	1240px+
*/

/* ==============
	VARIABLES
============== */

:root {
	--widescreen-max-inline-size: 1200px;
	--main-column-max-inline-size: 800px;
	--gap-size: 10px;
	--main-column-padding: calc(2 * var(--gap-size));

	--seek-bar-thumb-size: 1em;
	--toggle-transition-duration: 0.5s;
	--control-depth: 0.3em;

	--line-width: 1px;
}
/* THEMES */
[data-theme="dark"] {
	--fore-colour: #fdffdc;
	--back-colour: #000627;
	--hot-colour: #ff6767;
	--cold-colour: #b9ab00;
}
[data-theme="goop"] {
	--fore-colour: #e0ffe0;
	--back-colour: #000;
	--hot-colour: #0a8;
	--cold-colour: #8a0;
}
[data-theme="flame"] {
	--fore-colour: #f8f095;
	--back-colour: #180000;
	--hot-colour: #fe1;
	--cold-colour: #ff6900;
}
[data-theme="plasm"] {
	--fore-colour: #fff8ff;
	--back-colour: #27003f;
	--hot-colour: #0f7;
	--cold-colour: #0df;
}
[data-theme="moss"] {
	--fore-colour: #def;
	--back-colour: #234;
	--hot-colour: #8f2;
	--cold-colour: #a0dfa0;
}
[data-theme="darker"] {
	--fore-colour: #bbb;
	--back-colour: #111;
	--hot-colour: #fff;
	--cold-colour: #fff;
}
[data-theme="light"] {
	--fore-colour: #2a2a2a;
	--back-colour: #fff;
	--hot-colour: #b60000;
	--cold-colour: #2a2aff;
}
[data-theme="wine"] {
	--fore-colour: #215;
	--back-colour: #f8f0c7;
	--hot-colour: #000;
	--cold-colour: #a30000;
}
[data-theme="ash"] {
	--fore-colour: #33505a;
	--back-colour: #f6f7f8;
	--hot-colour: #d40;
	--cold-colour: #000;
}
[data-theme="dust"] {
	--fore-colour: #56170e;
	--back-colour: #fff;
	--hot-colour: #da2c43;
	--cold-colour: #404040;
}
[data-theme="mist"] {
	--fore-colour: #2d2d2d;
	--back-colour: #f0faff;
	--hot-colour: #005e6e;
	--cold-colour: #545464;
}
[data-theme="silver"] {
	--fore-colour: #444;
	--back-colour: #eee;
	--hot-colour: #000;
	--cold-colour: #000;
}
/* FONTS */
[data-font="serif"] {
	--font-stack: Bitter, Georgia, Garamond, "Times New Roman", Times, serif;
}
[data-font="sans"] {
	--font-stack: "Fira Sans", Tahoma, Verdana, "Helvetica Neue", Helvetica, Arial, sans-serif;
}



/* ==========
	FONTS
========== */

/* SERIF */

@font-face {
	font-family: Bitter;
	font-weight: normal;
	font-style: normal;
	font-display: swap;
	src: url("./fonts/bitter-regular-weirdwaves.woff2") format("woff2");
}
@font-face {
	font-family: Bitter;
	font-weight: bold;
	font-style: normal;
	font-display: swap;
	src: url("./fonts/bitter-bold-weirdwaves.woff2") format("woff2");
}
@font-face {
	font-family: Bitter;
	font-weight: normal;
	font-style: italic;
	font-display: swap;
	src: url("./fonts/bitter-italic-weirdwaves.woff2") format("woff2");
}
@font-face {
	font-family: Bitter;
	font-weight: bold;
	font-style: italic;
	font-display: swap;
	src: url("./fonts/bitter-bold-italic-weirdwaves.woff2") format("woff2");
}

/* SANS */

@font-face {
	font-family: "Fira Sans";
	font-weight: normal;
	font-style: normal;
	font-feature-settings: "zero" 1;
	font-display: swap;
	src: url("./fonts/fira-sans-regular-weirdwaves.woff2") format("woff2");
}
@font-face {
	font-family: "Fira Sans";
	font-weight: bold;
	font-style: normal;
	font-display: swap;
	src: url("./fonts/fira-sans-bold-weirdwaves.woff2") format("woff2");
}
@font-face {
	font-family: "Fira Sans";
	font-weight: normal;
	font-style: italic;
	font-feature-settings: "zero" 1;
	font-display: swap;
	src: url("./fonts/fira-sans-italic-weirdwaves.woff2") format("woff2");
}
@font-face {
	font-family: "Fira Sans";
	font-weight: bold;
	font-style: italic;
	font-display: swap;
	src: url("./fonts/fira-sans-bold-italic-weirdwaves.woff2") format("woff2");
}



/* ============
	GENERAL
============ */

*,
::before,
::after {
	box-sizing: border-box;
}
body {
	margin: 0;
	color: var(--fore-colour);
	background-color: var(--back-colour);
	font-family: var(--font-stack);
	line-height: 1.4;
}
#container {
	margin-inline: auto;
	padding-block-end: 2em;
	padding-inline: var(--main-column-padding);
	max-inline-size: var(--main-column-max-inline-size);
}
#svg-defs {
	position: absolute;
	z-index: -1;
}
[hidden] {
	display: none !important;
}
h1 {
	margin-block-start: 0.2em;
	margin-block-end: 0.1em;
	font-size: 3.5em;
	text-align: center;
	letter-spacing: 0.15em;
	text-transform: uppercase;
	font-feature-settings: "case" 1;
}
h2 {
	font-size: 1.5em;
}
h2:not(.show-heading) {
	margin-block-start: 0.2em;
	padding-block-start: 20px;
	letter-spacing: 0.1em;
	text-transform: uppercase;
	font-feature-settings: "case" 1;
}
h3 {
	margin-block-start: 2.4em;
	margin-block-end: 0.4em;
}
h3 + * {
	margin-block-start: 0;
}
time {
	font-variant-numeric: tabular-nums;
}
.flex-list {
	display: flex;
	flex-wrap: wrap;
	margin-block: 1em;
	padding-inline-start: 0;
	list-style-type: none;
	align-items: center;
	justify-content: center;
	gap: 1em;
}
a:link {
	color: var(--hot-colour);
}
a:visited {
	color: var(--cold-colour);
}
a:active {
	color: var(--hot-colour);
}
[rel~="external"]::after {
	content: "\00a0\2206";
}
.uppercase {
	text-transform: uppercase;
}
abbr[title] {
	text-decoration: none;
	cursor: help;
}
summary {
	list-style-type: none;
	cursor: pointer;
}
summary::-webkit-details-marker {
	display: none;
}
.content-notes > summary {
	display: inline-block;
	color: var(--hot-colour);
}
.content-notes[open] > summary {
	color: var(--cold-colour);
}
.content-notes > summary::after {
	content: " (click to show)";
}
.content-notes[open] > summary::after {
	content: " (click to hide):\00a0";
}
.svg-icon {
	display: block;
	block-size: 2em;
	inline-size: auto;
	fill: none;
	stroke: var(--cold-colour);
	stroke-width: 1;
	stroke-linecap: round;
	stroke-linejoin: round;
	vector-effect: non-scaling-stroke;
}
button {
	font-family: inherit;
	font-size: 1em;
	color: inherit;
	background-color: unset;
	cursor: pointer;
}
button * {
	pointer-events: none;
}
.push-button {
	position: relative;
	inset-block-start: calc(var(--control-depth) * -1);
	inline-size: max-content;
	padding-block-start: 0.5em;
	padding-block-end: 0.25em;
	padding-inline: 0.5em;
	color: var(--hot-colour);
	border-width: var(--line-width);
	border-style: solid;
	border-color: var(--hot-colour);
	box-shadow: 0 var(--control-depth) var(--hot-colour);
	align-items: center;
}
.push-button:is(:active, [aria-pressed="true"]) {
	position: relative;
	inset-block-start: 0;
	color: var(--cold-colour);
	border-color: var(--cold-colour);
	box-shadow: 0 0;
}
.push-button[aria-pressed="true"] {
	pointer-events: none;
}
.icon-button-set {
	display: flex;
	gap: var(--gap-size);
	padding-block-start: var(--control-depth);
	padding-inline-start: 0;
	list-style-type: none;
}
.icon-button-set button {
	block-size: max-content;
	padding: 0.1em;
}
.icon-button-set .svg-icon {
	block-size: 1.5em;
	stroke: var(--hot-colour);
}
.icon-button-set button:active > .svg-icon {
	stroke: var(--cold-colour);
}
.loading-spinner {
	display: block;
	margin-inline: auto;
	animation-name: spinner;
	animation-duration: 0.5s;
	animation-iteration-count: infinite;
	animation-timing-function: linear;
}
@keyframes spinner {
	to {
		transform: rotate(1turn);
	}
}



/* ===========
	RADIO
============ */

#radio {
	display: flex;
	margin-block-start: var(--gap-size);
	justify-content: center;
	align-items: center;
}
#radio-main {
	inline-size: 100%;
}
:is(#loaded-show, #playlist):empty::after {
	content: "Playlist is empty!";
	display: block;
	font-style: italic;
	text-align: center;
	margin-block-start: 0.5em;
	margin-block-end: 0.3em;
}
h2.show-heading {
	display: block;
}
#loaded-show > .show-content {
	padding-inline-end: var(--gap-size);
}
.flat-radio > .show-content {
	display: none;
}
#controls {
	display: grid;
	grid-template:
		"	seek-controls	seek-controls	"
		"	show-controls	audio-controls	";
	grid-template-columns: auto min-content;
	margin-block-end: var(--gap-size);
	row-gap: calc(var(--gap-size) + var(--control-depth));
}
#controls > div {
	display: flex;
	gap: var(--gap-size);
}
#seek-controls {
	grid-area: seek-controls;
}
#show-time {
	white-space: nowrap;
}
#show-controls {
	grid-area: show-controls;
}
#audio-controls {
	grid-area: audio-controls;
}
input[type="range"] {
	all: unset;
	cursor: pointer;
	margin: 0;
	font-size: 1em;
	border-block-end-width: var(--line-width);
	border-block-end-style: solid;
	border-block-end-color: var(--hot-colour);
}
#seek-bar {
	inline-size: 100%;
	padding-block-end: calc(var(--control-depth) * 0.6);
}
#volume-control {
	inline-size: 5em;
	padding-block-end: var(--control-depth);
}
input[type="range"]::-moz-range-thumb {
	box-sizing: border-box;
	background-color: var(--back-colour);
	border-width: var(--line-width);
	border-style: solid;
	border-color: var(--hot-colour);
	border-radius: 0;
	box-shadow: 0 var(--control-depth) var(--hot-colour);
	transform: translateY(calc(var(--control-depth) * -1));
}
#seek-bar::-moz-range-thumb {
	block-size: 1em;
	inline-size: 1em;
	border-radius: 50%;
}
#volume-control::-moz-range-thumb {
	block-size: 1.2em;
	inline-size: 0.75em;
}
input[type="range"]::-moz-range-progress {
	background-color: var(--hot-colour);
	block-size: var(--line-width);
}
input[type="range"]:active::-moz-range-thumb {
	border-color: var(--cold-colour);
	box-shadow: 0 var(--control-depth) var(--cold-colour);
}
input[type="range"]:active::-moz-range-progress {
	background-color: var(--cold-colour);
}
input[type="range"]::-webkit-slider-runnable-track {
	background-color: var(--hot-colour);
	block-size: var(--line-width);
}
input[type="range"]::-webkit-slider-thumb {
	-webkit-appearance: none;
	appearance: none;
	background-color: var(--back-colour);
	border-width: var(--line-width);
	border-style: solid;
	border-color: var(--hot-colour);
	box-shadow: 0 var(--control-depth) var(--hot-colour);
}
#seek-bar::-webkit-slider-thumb {
	inline-size: var(--seek-bar-thumb-size);
	block-size: var(--seek-bar-thumb-size);
	border-radius: 50%;
	transform: translateY(calc(-1 * calc(var(--seek-bar-thumb-size) / 2 + var(--control-depth))));
}
#volume-control::-webkit-slider-thumb {
	inline-size: 0.75em;
	block-size: 1.2em;
	transform: translateY(-1em);
}
input[type="range"]:active::-webkit-slider-thumb {
	border-color: var(--cold-colour);
	box-shadow: 0 var(--control-depth) var(--cold-colour);
}
input[type="range"]:active::-webkit-slider-runnable-track {
	background-color: var(--cold-colour);
	block-size: var(--line-width);
}



/* ========
	NAV
======== */

nav {
	display: flex;
	justify-content: space-evenly;
	padding-block-start: 0.2em;
	border-block-width: var(--line-width);
	border-block-style: solid;
	border-block-color: var(--fore-colour);
}
nav > ul {
	display: flex;
	inline-size: 33%;
	list-style-type: none;
	padding-inline-start: 0;
	text-align: center;
	flex-direction: column;
	justify-content: center;
	gap: var(--gap-size);
}
nav a {
	display: inline-flex;
	flex-direction: column;
	padding-block-start: 0.2em;
	padding-inline: 0.2em;
	align-items: center;
	gap: 0.2em;
	text-decoration: none;
	user-select: none;
}
nav a[href$=".rss"] {
	color: var(--hot-colour);
}
nav a[href^="#"] {
	outline-width: calc(var(--line-width) / 2);
	outline-style: solid;
	outline-color: transparent;
	outline-offset: 0;
	transition-property: outline-width, outline-color, outline-offset;
	transition-duration: 0.3s;
}
nav a[href^="#"]:is(:hover, :focus, [aria-current="page"]) {
	outline-width: var(--line-width);
	outline-color: var(--fore-colour);
	outline-offset: 0.2em;
}
nav a > span {
	white-space: nowrap;
}
nav [aria-current="page"] {
	transition-property: unset;
}
nav a[href^="#"]:is(:link, :visited, :active) {
	color: unset;
}
.svg-hot-stroke {
	stroke: var(--hot-colour);
}



/* =============
	SECTIONS
============= */

#page-sections > * {
	display: none;
	margin-block-end: 1em;
}
#page-sections > :last-child {
	display: block;
}
#page-sections > div:target,
#page-sections > div:has(:target) {
	display: block;
}
#page-sections > div:target ~ :last-child,
#page-sections > div:has(:target) ~ :last-child {
	display: none;
}



/* ==========
	BOOTH
========== */

#playlist {
	margin-block: 0;
}
#playlist > li {
	display: flex;
	gap: var(--gap-size);
}
#playlist > li:not(:first-child) {
	margin-block-start: 1em;
}
.show-position-controls {
	flex-direction: column;
}
#playlist > :first-child [data-action="move-up"], #playlist > :last-child [data-action="move-down"] {
	visibility: hidden;
}
#playlist-controls {
	z-index: 3;
	position: sticky;
	inset-block-start: 0;
	margin-block-start: 0;
	margin-block-end: var(--gap-size);
	padding-block-start: calc(var(--gap-size) + var(--control-depth));
	padding-block-end: var(--gap-size);
	background-color: var(--back-colour);
	border-block-end-width: var(--line-width);
	border-block-end-style: solid;
	border-block-end-color: var(--fore-colour);
}
#clear-playlist-controls {
	inline-size: 100%;
	text-align: center;
}
#clear-playlist-controls > ul {
	margin-block-end: 0;
}
#import-export-data {
	height: 10em;
	width: 100%;
	display: block;
	margin-block: 1em;
	padding-block-start: 0.5em;
	padding-block-end: 0.25em;
	padding-inline: 0.5em;
	font-family: inherit;
	font-size: 1em;
	line-height: 1;
	color: inherit;
	background-color: unset;
	border-width: var(--line-width);
	border-style: solid;
	border-color: var(--fore-colour);
	resize: none;
}
#import-error-message {
	color: var(--hot-colour);
}



/* ============
	ARCHIVE
============ */

#series-list {
	padding-inline-start: 0;
	list-style-type: none;
}
#series-list > li {
	display: flex;
	flex-direction: column;
	align-items: start;
}
#series-list header {
	position: sticky;
	inset-block-start: 0;
	z-index: 3;
	background-color: var(--back-colour);
	border-block-end-width: var(--line-width);
	border-block-end-style: solid;
	border-block-end-color: var(--fore-colour);
}
.series-content {
	padding: var(--gap-size);
}
.series-content > * {
	margin-block: 0;
}
[data-action="add-series"] {
	margin-block-end: var(--gap-size);
	margin-inline-start: var(--gap-size);
}
.series-heading,
.show-heading {
	font-size: 1em;
	margin-block: 0;
	padding-block-start: 0.35em;
	padding-block-end: 0.1em;
	padding-inline: 0.5em;
	color: var(--back-colour);
	background-color: var(--fore-colour);
}
.series-heading {
	font-size: 1.3em;
}
.series-heading + * {
	margin-block-start: 0;
}
.series-source {
	margin-block-start: 0.3em;
	font-size: 0.75em;
}
.series-source::before {
	content: "source: ";
}
.show-list {
	list-style-type: none;
	margin-inline: var(--gap-size);
	padding-inline-start: 0;
	flex: 1;
}
.show-list > li {
	position: relative;
}
.show-heading {
	display: inline-block;
}
.show-content {
	padding-block: var(--gap-size);
	padding-inline-start: var(--gap-size);
}
.show-content > * {
	margin-block: 0.25em;
}
.show-content > :first-child {
	margin-block-start: 0;
}
.show-content > :last-child {
	margin-block-end: 0;
}
button[data-action="add-show"] {
	margin-block-end: var(--gap-size);
	margin-inline-start: var(--gap-size);
}



/* ==========
	ABOUT
========== */

#stats-list {
	margin-inline-start: 1em;
}
#stats-list {
	display: flex;
	flex-direction: column;
	gap: 0.5em;
}
#stats-list > div {
	display: flex;
	flex-direction: row-reverse;
	justify-content: flex-end;
}
#stats-list dd {
	margin-inline-start: 0;
	font-weight: bold;
}
#stats-list dd::after {
	content: "\00a0";
}



/* ==============
	STREAMING
============== */

code {
	user-select: all;
}
.code-block {
	display: block;
	margin-block: 1em;
	padding-block: 0.3em;
	padding-inline: 0.5em;
	color: var(--back-colour);
	background-color: var(--fore-colour);
	tab-size: 2ch;
	overflow-x: auto;
	white-space: pre;
}



/* =============
	SETTINGS
============= */

#settings > ul {
	padding-inline-start: 0;
	list-style-type: none;
}
.toggle {
	display: grid;
	grid-template-columns: max-content auto;
	align-items: center;
	margin-inline-start: 1em;
	gap: 0.5em;
	text-align: start;
	border: unset;
}
.toggle > svg {
	inline-size: auto;
	padding-block-end: 0.3em;
	stroke: var(--hot-colour);
}
.svg-toggle-thumb {
	transition-property: transform;
	transition-duration: var(--toggle-transition-duration);
}
use[href="#svg-toggle-thumb-side"] {
	fill: var(--hot-colour);
}
use[href="#svg-toggle-thumb-top"] {
	fill: var(--back-colour);
}
use[href="#svg-toggle-tick"] {
	opacity: 0;
	transition-property: opacity;
	transition-duration: var(--toggle-transition-duration);
}
.toggle:active use:not([href="#svg-toggle-track"]) {
	stroke: var(--cold-colour);
}
.toggle:active use[href="#svg-toggle-thumb-side"] {
	fill: var(--cold-colour);
}
[aria-pressed="true"] .svg-toggle-thumb {
	transform: translateX(50%);
}
[aria-pressed="true"] use[href="#svg-toggle-tick"] {
	opacity: 1;
}
#theme-buttons button {
	display: flex;
	flex-direction: column;
	gap: 0.5em;
}
.palette {
	block-size: 1em;
	inline-size: 12em;
	border: inherit;
	background-image: linear-gradient(90deg, var(--fore-colour) 25%, var(--back-colour) 25% 50%, var(--hot-colour) 50% 75%, var(--cold-colour) 75%);
}



/* ==================================
	CALL IN/LINKS/CREDITS/WELCOME
================================== */

#call-in, #links, #credits, #welcome {
	text-align: center;
}
.flex-list [rel~="external"]::after {
	content: unset;
}
.waveform-spacer {
	margin-inline: auto;
}
#featured-show > :first-child {
	margin-block-start: 1em;
}



/* =================
	RESPONSIVITY
================= */

@media (min-width: 500px) {
	body {
		font-size: 1.2em;
	}
	h1, h2:not(.show-heading) {
		text-shadow: 0.07em 0.07em 0 var(--back-colour), -0.05em -0.05em 0 var(--back-colour), 0.1em 0.09em 0 var(--fore-colour);
	}
	nav a {
		padding-block-end: 0.2em;
		flex-direction: row;
	}
	nav a > span {
		margin-block-start: 0.2em;
	}
	.show-position-controls .svg-icon {
		block-size: 1em;
	}
	.code-block {
		tab-size: 4ch;
	}
	.palette {
		inline-size: 4em;
	}
}
@media (min-width: 600px) {
	/* RADIO */
	#controls {
		grid-template: 
			"seek-controls	show-controls	audio-controls" / auto min-content min-content;
		column-gap: calc(var(--gap-size) * 3);
	}

	/* NAV */
	nav {
		display: block;
		font-size: unset;
	}
	nav > ul {
		inline-size: unset;
		margin-inline: auto;
		flex-direction: row;
	}
@media (min-width: 700px) {
	/* RADIO */
	h2.show-heading {
		display: inline-block;
	}

	/* ARCHIVE */
	#series-list {
		border-block-end-width: var(--line-width);
		border-block-end-style: solid;
		border-block-end-color: var(--fore-colour);
	}
	#series-list > li {
		flex-direction: row;
	}
	.series-heading {
		font-size: 1em;
		text-align: end;
	}
	#series-list header {
		inline-size: 260px;
		margin-inline-end: calc(var(--line-width) * -1);
		background-color: unset;
		border-block-end: unset;
		border-inline-end-width: var(--line-width);
		border-inline-end-style: solid;
		border-inline-end-color: var(--fore-colour);
	}
	.series-content {
		padding-inline-start: 0;
	}
	[data-action="add-series"] {
		margin-inline-start: 0;
	}
	#series-list .show-list {
		margin-inline: 0;
		border-inline-start-width: var(--line-width);
		border-inline-start-style: solid;
		border-inline-start-color: var(--fore-colour);
	}
}
@media (min-width: 1240px) {
	/* GENERAL */
	#container {
		max-inline-size: var(--widescreen-max-inline-size);
		display: grid;
		grid-template:
			"	radio	heading		"
			"	radio	nav			"
			"	radio	sections	";
		column-gap: var(--gap-size);
	}
	h1 {
		grid-area: heading;
	}

	/* RADIO */
	#radio {
		align-self: start;
		position: sticky;
		inline-size: calc(var(--widescreen-max-inline-size) - var(--main-column-max-inline-size) - var(--gap-size));
		inset-block-start: var(--gap-size);
		grid-area: radio;
	}
	#radio-main {
		overflow-y: auto;
		max-block-size: calc(100vh - calc(2 * var(--gap-size)));
		border-width: var(--line-width);
		border-style: solid;
		border-color: var(--fore-colour);
	}
	#loaded-show > .show-heading {
		display: block;
	}
	#controls {
		margin: var(--gap-size);
		grid-template:
			"	seek-controls	seek-controls	"
			"	show-controls	audio-controls	";
		grid-template-columns: auto min-content;
	}

	/* NAV */
	#nav-container {
		grid-area: nav;
	}

	/* SECTIONS */
	#page-sections {
		grid-area: sections;
		inline-size: calc(var(--main-column-max-inline-size) - 2 * var(--main-column-padding));
	}
}
